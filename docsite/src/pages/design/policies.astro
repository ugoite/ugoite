---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getPolicies } from "../../lib/spec-data";

const policies = await getPolicies();
const toc = policies.map((p) => ({ id: p.id.toLowerCase(), title: p.id }));
---

<BaseLayout title="Policies | Ugoite" description="Implementation policies derived from design philosophy." toc={toc}
  related={[{ href: "/design/philosophy", label: "Philosophy" }, { href: "/design/requirements", label: "Requirements" }]}>

  <section class="doc-card-hero">
    <div style="position: relative; z-index: 1;">
      <span class="doc-pill">docs/spec/policies</span>
      <h1 style="font-size: 2rem; font-weight: 800; margin-top: 0.75rem; letter-spacing: -0.02em;">Policies</h1>
      <p style="color: var(--doc-muted); margin-top: 0.5rem; line-height: 1.6;">
        Concrete engineering guidelines that translate philosophy into actionable constraints and standards.
      </p>
    </div>
  </section>

  <div class="doc-grid">
    {policies.map((p) => (
      <article id={p.id.toLowerCase()} class="doc-card doc-card-hover">
        <span class="doc-pill" style="margin-bottom: 0.75rem;">{p.id}</span>
        <h2 style="font-size: 1rem; font-weight: 700;">{p.title}</h2>
        <p style="font-size: 0.8125rem; color: var(--doc-muted); margin-top: 0.5rem; line-height: 1.7;">{p.summary}</p>
      </article>
    ))}
  </div>
</BaseLayout>
